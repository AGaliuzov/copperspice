set(CORE_PUBLIC_INCLUDES
    ${CORE_PUBLIC_INCLUDES}
    QAbstractConcatenable
    QArrayData
    QBitArray
    QBitRef
    QByteArray
    QByteRef
    QByteArrayMatcher
    QCache
    QChar
    QCharRef
    QConcatenable
    QConstString
    QContiguousCache
    QContiguousCacheData
    QContiguousCacheTypedData
    QCommandLineOption
    QCommandLineParser
    QCryptographicHash
    QDate
    QDateTime
    QEasingCurve
    QElapsedTimer
    QExplicitlySharedDataPointer
    QHash
    QHashData
    QHashDummyNode
    QHashDummyValue
    QHashIterator
    QHashNode
    QLatin1Char
    QLatin1Literal
    QLatin1String
    QLine
    QLineF
    QLinkedList
    QLinkedListData
    QLinkedListIterator
    QLinkedListNode
    QList
    QListData
    QListIterator
    QLocale
    QMap
    QMapData
    QMapIterator
    QMapNode
    QMapPayloadNode
    QMargins
    QMultiHash
    QMultiMap
    QMutableHashIterator
    QMutableLinkedListIterator
    QMutableListIterator
    QMutableMapIterator
    QMutableSetIterator
    QMutableStringListIterator
    QMutableVectorIterator
    QPair
    QPoint
    QPointF
    QQueue
    QRect
    QRectF
    QRegExp
    QScopedArrayPointer
    QScopedPointer
    QScopedPointerArrayDeleter
    QScopedPointerDeleter
    QScopedPointerPodDeleter
    QScopedValueRollback
    QSet
    QSetIterator
    QSharedData
    QSharedDataPointer
    QSharedPointer
    QSize
    QSizeF
    QStack
    QStdWString
    QString
    QStringBuilder
    QStringList
    QStringListIterator
    QStringMatcher
    QStringRef
    QSystemLocale
    QTextBoundaryFinder
    QTime
    QTimeLine
    QVarLengthArray
    QVector
    QVectorData
    QVectorIterator
    QVectorTypedData
    QWeakPointer
    QtAlgorithms
    QtContainerFwd
    PARENT_SCOPE
)

set(CORE_INCLUDES
    ${CORE_INCLUDES}
    ${CMAKE_CURRENT_SOURCE_DIR}/qabstractconcatenable.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qalgorithms.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qarraydata.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qarraydataops.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qbitarray.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qbitref.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qbytearray.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qbyteref.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qbytearraymatcher.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qcache.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qchar.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qcharref.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qconcatenable.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qconststring.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qcontainerfwd.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qcontiguouscache.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qcontiguouscachedata.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qcontiguouscachetypeddata.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qcommandlineoption.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qcommandlineparser.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qcryptographichash.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qdate.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qdatetime.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qeasingcurve.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qelapsedtimer.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qexplicitlyshareddatapointer.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qhash.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qhashdata.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qhashdummynode.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qhashdummyvalue.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qhashiterator.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qhashnode.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qlatin1char.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qlatin1literal.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qlatin1string.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qline.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qlinef.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qlinkedlist.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qlinkedlistdata.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qlinkedlistiterator.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qlinkedlistnode.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qlist.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qlistdata.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qlistiterator.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qlocale.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qmap.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qmapdata.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qmapiterator.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qmapnode.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qmappayloadnode.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qmargins.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qmultihash.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qmultimap.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qmutablehashiterator.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qmutablelinkedlistiterator.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qmutablelistiterator.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qmutablemapiterator.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qmutablesetiterator.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qmutablestringlistiterator.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qmutablevectoriterator.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qpair.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qpoint.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qpointf.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qqueue.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qrect.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qrectf.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qrefcount.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qregexp.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qscopedarraypointer.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qscopedpointer.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qscopedpointerarraydeleter.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qscopedpointerdeleter.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qscopedpointerpoddeleter.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qscopedvaluerollback.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qset.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qsetiterator.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qshareddata.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qshareddatapointer.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qsharedpointer.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qsharedpointer_impl.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qsize.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qsizef.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qstack.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qstdwstring.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qstring.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qstringbuilder.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qstringlist.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qstringlistiterator.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qstringmatcher.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qstringref.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qsystemlocale.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qtalgorithms.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qtcontainerfwd.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qtextboundaryfinder.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qtime.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qtimeline.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qvarlengtharray.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qvector.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qvectordata.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qvectoriterator.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qvectortypeddata.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qweakpointer.h
    PARENT_SCOPE
)

set(CORE_PRIVATE_INCLUDES
    ${CORE_PRIVATE_INCLUDES}
    ${CMAKE_CURRENT_SOURCE_DIR}/qbytedata_p.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qdatetime_p.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qfreelist_p.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qlocale_data_p.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qlocale_p.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qlocale_tools_p.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qpodlist_p.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qringbuffer_p.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qscopedpointer_p.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qsimd_p.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qtools_p.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qunicodetables_p.h
    ${CMAKE_CURRENT_SOURCE_DIR}/qharfbuzz_p.h
    PARENT_SCOPE
)

set(CORE_SOURCES
    ${CORE_SOURCES}
    ${CMAKE_CURRENT_SOURCE_DIR}/qarraydata.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qbitarray.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qbytearray.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qbytearraymatcher.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qcryptographichash.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qdatetime.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qeasingcurve.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qelapsedtimer.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qfreelist.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qhash.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qline.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qlinkedlist.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qlist.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qlocale.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qlocale_tools.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qpoint.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qmap.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qmargins.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qcontiguouscache.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qcommandlineoption.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qcommandlineparser.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qrect.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qrefcount.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qregexp.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qshareddata.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qsharedpointer.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qsimd.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qsize.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qstring.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qstringbuilder.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qstringlist.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qtextboundaryfinder.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qtimeline.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qvector.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qvsnprintf.cpp
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-buffer.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-gdef.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-gsub.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-gpos.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-impl.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-open.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-stream.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-shaper-all.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qharfbuzz.cpp
    PARENT_SCOPE
)

# FIXME platform specific
#  qelapsedtimer_mac.cpp
#  qlocale_mac.mm
#  qelapsedtimer_generic.cpp

if(${CMAKE_SYSTEM_NAME} MATCHES "Win32")
    set(CORE_SOURCES
        ${CORE_SOURCES}
        ${CMAKE_CURRENT_SOURCE_DIR}/qelapsedtimer_win.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/qlocale_win.cpp
        PARENT_SCOPE
    )
endif()

if(${CMAKE_SYSTEM_NAME} MATCHES "Linux")
    set(CORE_SOURCES
        ${CORE_SOURCES}
        ${CMAKE_CURRENT_SOURCE_DIR}/qelapsedtimer_unix.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/qlocale_unix.cpp
        PARENT_SCOPE
    )
endif()

if(${CMAKE_SYSTEM_NAME} MATCHES "Darwin")
    set(CORE_SOURCES
        ${CORE_SOURCES}
        ${CMAKE_CURRENT_SOURCE_DIR}/qelapsedtimer_mac.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/qlocale_mac.mm
        PARENT_SCOPE
    )
endif()


include_directories(${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src)


set(EXTRA_DIST
    ${CMAKE_SOURCE_DIR}/src/3rdparty/md5/md5.cpp
    ${CMAKE_SOURCE_DIR}/src/3rdparty/md4/md4.cpp
    ${CMAKE_SOURCE_DIR}/src/3rdparty/sha1/sha1.cpp
    ${CMAKE_SOURCE_DIR}/src/3rdparty/easing/easing.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qchar.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qstringmatcher.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/qunicodetables.cpp
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-indic.cpp
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-shaper-all.cpp
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-shaper.cpp
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-arabic.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-buffer.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-dump.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-dump-main.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-gdef.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-gpos.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-greek.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-gsub.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-hangul.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-hebrew.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-impl.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-khmer.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-myanmar.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-open.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-stream.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-thai.c
    ${CMAKE_SOURCE_DIR}/src/3rdparty/harfbuzz/src/harfbuzz-tibetan.c
    PARENT_SCOPE
)
